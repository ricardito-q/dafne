:root{
  --bg1:#fff0f6;
  --accent:#ff78b6;
  --neon: rgba(255,120,182,0.95);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Segoe UI, Roboto, Arial, sans-serif;background:linear-gradient(90deg,#fff 40%,#fff7f9 100%);color:#333}
.wrap{display:flex;max-width:1100px;margin:40px auto;padding:20px;gap:30px}
.left{position:relative;flex:1;z-index:40}
.right{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}
.card{background:rgba(255,255,255,0.95);padding:26px;border-radius:18px;min-height:260px;position:relative}
.neon{border:3px solid rgba(255,255,255,0.6);box-shadow:0 0 30px rgba(255,150,200,0.25), inset 0 0 18px rgba(255,255,255,0.6);animation:neonPulse 3s ease-in-out infinite}
.neon::before{content:"";position:absolute;inset:-8px;border-radius:22px;padding:6px;background:linear-gradient(45deg, rgba(255,120,182,0.12), rgba(180,128,255,0.06));box-shadow:0 0 24px var(--neon);pointer-events:none}
.dedication h2{margin:8px 0 12px;font-weight:600;color:#8b3d6a}
.dedication p{line-height:1.5;color:#444;font-size:15px;min-height:120px}
.ded-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}
.user-avatar{width:84px;height:84px;border-radius:10px;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.12);border:3px solid rgba(255,255,255,0.6)}
.upload-controls button{background:linear-gradient(180deg,#ff9ec2,#ff6f9a);border:none;color:white;padding:6px 10px;border-radius:8px;cursor:pointer}
.upload-controls button:active{transform:translateY(1px)}
.avatar-wrap{display:none}
.tree{width:100%;display:flex;align-items:center;justify-content:center;padding-top:8px}
.tree svg{width:260px;height:auto;overflow:visible}
.counters{margin-top:18px;background:rgba(255,255,255,0.95);padding:10px 14px;border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
.counters .together,.counters .countdown{font-weight:600;color:#333}

/* Hearts initial state and pop animation */
#hearts path{transform-origin:50% 50%;transform:scale(0);opacity:0}
.heart-pop{animation:heartPop 450ms cubic-bezier(.2,.9,.2,1) forwards}

@keyframes heartPop{
  0%{transform:scale(0);opacity:0}
  60%{transform:scale(1.12);opacity:1}
  100%{transform:scale(1);opacity:1}
}

/* Trunk grow animation */
#trunk{transform-origin:50% 100%;transform:scaleY(0)}
.trunk-grow{animation:growTrunk 700ms ease-out forwards}

@keyframes growTrunk{
  0%{transform:scaleY(0)}
  100%{transform:scaleY(1)}
}

/* Neon pulse */
@keyframes neonPulse{
  0%{box-shadow:0 0 10px rgba(255,120,182,0.25)}
  50%{box-shadow:0 0 36px rgba(255,120,182,0.6)}
  100%{box-shadow:0 0 10px rgba(255,120,182,0.25)}
}

/* Typewriter reveal */
.typewriter{display:inline-block;white-space:pre-wrap;overflow:hidden}

@media (max-width:900px){
  .wrap{flex-direction:column;align-items:center}
  .avatar-wrap{position:relative;left:auto;bottom:auto;margin-top:10px}
  .avatar-wrap.hidden{opacity:1;transform:none;pointer-events:auto}
}

/* Center tree visually and hide left panel initially */
.tree.center{position:fixed;left:50%;top:45%;transform:translate(-50%,-50%);z-index:20;width:360px}
.tree.center svg{width:360px}

.left{transition:opacity 600ms ease, transform 600ms ease;will-change:opacity,transform}
.left.hidden{opacity:0;transform:translateY(18px);pointer-events:none}
.left.visible{opacity:1;transform:translateY(0);pointer-events:auto}

@media (max-width:900px){
  .tree.center{position:relative;left:auto;top:auto;transform:none;width:260px;margin-top:8px}
}